<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8" />
    <title>DT Tablet System</title>
    <link rel="stylesheet" href="libs/animate.min.css">
    <link rel="stylesheet" href="libs/all.min.css">
    <link rel="stylesheet" href="css/core.css" />
    <link rel="stylesheet" href="css/modern.css" />
    <link rel="stylesheet" href="css/retro.css" />
    <link rel="stylesheet" href="css/kali.css" />

    <!-- JS Libs načteme ZDE -->
    <script src="libs/chart.min.js"></script> 
    <script src="libs/sweetalert2.all.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <audio id="sound-click" src="sounds/click.mp3"></audio>
<audio id="sound-lock" src="sounds/lock.mp3"></audio>
<audio id="sound-notify" src="sounds/notification.mp3"></audio>
</head>
  <body>
    <div id="tablet-container" style="display: none">
      <!-- Zde JS nastavuje class="theme-modern" nebo "theme-retro" -->
      <div id="tablet-os-root">
        <div class="tablet-frame">
          <div class="side-lock-btn" onclick="System.lockDevice()" title="Zamknout obrazovku"></div>
          <!-- Boot Screen -->
          <div id="boot-screen">
            <div id="boot-logo"></div>
          </div>
<div id="login-screen" style="display: none;">
    <div class="login-content">
        <i class="fas fa-lock" style="font-size: 40px; margin-bottom: 20px; color: white;"></i>
        <h2 id="login-msg">Zadejte PIN</h2>
        
        <!-- Tečky indikující zadání -->
        <div class="pin-dots">
            <span class="dot"></span><span class="dot"></span><span class="dot"></span><span class="dot"></span>
        </div>

        <!-- Keypad -->
        <div class="pin-pad">
            <button onclick="System.Login.press(1)">1</button>
            <button onclick="System.Login.press(2)">2</button>
            <button onclick="System.Login.press(3)">3</button>
            <button onclick="System.Login.press(4)">4</button>
            <button onclick="System.Login.press(5)">5</button>
            <button onclick="System.Login.press(6)">6</button>
            <button onclick="System.Login.press(7)">7</button>
            <button onclick="System.Login.press(8)">8</button>
            <button onclick="System.Login.press(9)">9</button>
            <button class="empty"></button>
            <button onclick="System.Login.press(0)">0</button>
            <button class="action" onclick="System.Login.backspace()"><i class="fas fa-backspace"></i></button>
        </div>
    </div>
</div>
          <!-- System Content -->
          <div id="os-content" style="display: none; height: 100%">
            <div class="status-bar">
              <span
                ><i class="fas fa-signal"></i>
                <span id="network-name">Hledání...</span></span
              >
              <span id="clock">--:--</span>
            </div>

            <div class="screen">
              <!-- 1. DOMOVSKÁ OBRAZOVKA (Rodič ikon) -->
              <div id="home-screen" class="active-view">
                <div class="app-grid" id="app-grid"></div>
              </div>

              <!-- ZDE JE KONEC DIVU home-screen -->
              <!-- NÁSLEDUJE RETRO NAVIGACE -->

              <div class="retro-nav-bar hidden-view" onclick="System.goHome()">
                <span>&lt; ZPĚT</span>
                <span>MENU</span>
              </div>

              <!-- 2. OKNO APLIKACE (Musí být MIMO home-screen) -->
              <div id="app-frame" class="hidden-view">
                <div id="app-content"></div>
              </div>
<div id="calendar-modal" style="display: none;">
    <div class="modal-content">
        <h3 id="modal-date-title">Plán dne</h3>
        
        <!-- Seznam existujících událostí -->
        <div id="day-events-list">
            <!-- Zde se budou generovat položky JSem -->
            <div class="empty-msg">Žádné plány</div>
        </div>

        <!-- Formulář pro novou událost -->
<div class="new-event-form">
    <input type="time" id="event-time" value="12:00">
    <!-- Přidáno onkeydown pro Enter -->
    <input type="text" id="event-title" placeholder="Název události..." maxlength="30" onkeydown="if(event.key === 'Enter'){ System.addCalendarEvent(); event.preventDefault(); }">
    <!-- DŮLEŽITÉ: type="button" zabrání obnovení stránky -->
    <button type="button" onclick="System.addCalendarEvent()"><i class="fas fa-plus"></i></button>
</div>

        <div class="modal-actions">
            <button onclick="$('#calendar-modal').fadeOut(200)" class="btn-cancel">Zavřít</button>
        </div>
    </div>
</div>
            </div>

            <!-- Fyzické tlačítko -->
            <div class="home-button"></div>
          </div>
        </div>
      </div>
    </div>
    <script src="js/state.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/system.js"></script>
    <script src="js/modules/store.js"></script>
    <script src="js/modules/settings.js"></script>
    <script src="js/modules/calendar.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
